This folder contains Gabe Khan's work on the mental health nlp project for the May 2024 cohort of the Erdos Institute.

Folder contents:

1_Initial_analysis_and_cleaning contains the initial cleaning of the data and some preliminary data analysis. At this point, a sample of posts were separated from the dataset for manual coding for relevance.

2_Analysis_of_manually_coded_data contains some preliminary analysis of the manual coded data, including trying to understand its breakdown and the performance simple baseline models. After this point, I started trying to build models with improved performance.

'data' contains all the relevant data and csv files generated by our analysis. I have not attempted to organize it in any way.

'keywords' contains several files listing keywords for the treatment and diagnosis of bpd, as well as code used to generate them. These are also not organized, and mostly just used as parameters in the model

'relevance_models' contains the main statistical analysis in this project. Here, I attempted to model which posts were relevant to the treatment of bpd. From manual coding, only about 5% of posts were relevant, so this dataset is quite noisy. Five classes of models were considered and a final version was decided on and validated.

'relevant_post_analysis' starts by taking the chosen statistical model and running it on a large portion of the Kaggle dataset (r/bpd posts from 1-1-2014 through 1-1-2022). With a threshold of .5, this yielded 2557 highly relevant posts, nearly all of which discuss the medical management of bpd in some form. We also used a named entity recognition (NER) for all the medications in these posts. The dataset containing these posts and all the medication is contained in highly_relevant_posts_descending_threshold_50_augmented.csv, which is a dataset that could be used for future investigation

 Due to time constraints and how difficult the problem is, I was not able to design my own sentiment analysis model. However, the high-quality dataset was small enough to use GPT-4o and prompt engineering to generate these sentiments. For the most part, this analysis was highly accurate, although it did struggle to distinguish between cases where the sentiment was mixed and those where the user did not provide background on the medication.

Since running this analysis required API calls to OpenAI, doing so required was not free. Therefore, a lot of effort was put into prompt engineering to ensure that all calls to the server would return useful responses. Processing the most frequently mentioned medication (Lamotrigine) cost $1.80 and the second most frequently mentioned medication (Sertraline) cost $1.56. However, doing so yielded detailed breakdown of the sentiments about these medications.

Notes:
1. Files in folders are numbered to explain their order.
2. 'keywords', 'relevancy_models' and 'relevant_post_analysis' contain Readme files with more details on their contents. 